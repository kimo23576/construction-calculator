<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>حاسبة المقاول - منصة الاتحاد العام للمقاولين اليمنيين</title>
  <meta name="description" content="منصة متكاملة لحساب تكاليف البناء والطرقات بدقة عالية. استخدم حاسباتنا الذكية لتوفير الوقت والمال.">
  <meta name="keywords" content="حاسبة بناء, حاسبة طرقات, مقاولين يمن, تكاليف بناء, مشاريع إنشائية">
  <!-- استدعاء الخطوط والمكتبات الخارجية -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- مكتبة Chart.js للرسومات البيانية -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- مكتبة AOS لتأثيرات الحركة عند التمرير -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
  <style>
    /* إعدادات الخطوط والألوان الأساسية */
    @import url('https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');

    :root {
      --primary-color: #8B4513;
      --secondary-color: #1abc9c;
      --accent-color: #FFD700;
      --text-color: #333;
      --background-gradient: linear-gradient(45deg, #654321, #8B4513, #A0522D);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    /* تم إيقاف حركة الخلفية بحيث تكون ثابتة */
    body {
      font-family: 'Tajawal', sans-serif;
      background: var(--background-gradient);
      /* إزالة الأنيميشن من الخلفية */
      /* animation: gradientBG 15s ease infinite; */
      background-size: cover;
      min-height: 100vh;
      position: relative;
      color: var(--text-color);
      transition: background 0.5s, color 0.5s;
    }

    body.light-mode {
      --primary-color: #4a4a4a;
      --secondary-color: #3498db;
      --accent-color: #e67e22;
      --text-color: #333;
      --background-gradient: linear-gradient(45deg, #f0f0f0, #fff);
      background: var(--background-gradient);
      background-size: cover;
    }

    /* شاشة التحميل */
    .loader {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: var(--background-gradient);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }

    .loader::after {
      content: "";
      width: 50px;
      height: 50px;
      border: 5px solid var(--secondary-color);
      border-top-color: var(--accent-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* زر تغيير النظام (الوضع الفاتح/الداكن) */
    #modeToggle {
      position: fixed;
      top: 20px;
      left: 20px;
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      z-index: 2100;
      cursor: pointer;
      transition: background 0.3s;
    }

    #modeToggle:hover { background: #16a085; }

    /* شريط التنقل الرئيسي */
    .main-nav {
      width: 100%;
      background: rgba(0,0,0,0.85);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      position: sticky;
      top: 0;
      z-index: 1100;
    }

    .main-nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    .main-nav ul li a {
      color: white;
      text-decoration: none;
      font-size: 1em;
      transition: color 0.3s;
    }

    .main-nav ul li a:hover { color: var(--accent-color); }

    #navToggle {
      display: none;
      background: none;
      border: none;
      color: white;
      font-size: 1.5em;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .main-nav ul {
        display: none;
        flex-direction: column;
        background: rgba(0,0,0,0.9);
        position: absolute;
        top: 50px;
        right: 20px;
        padding: 10px;
        border-radius: 5px;
      }
      #navToggle { display: block; }
    }

    /* شريط الأخبار العلوي */
    .top-news-bar {
      width: 100%;
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 15px;
      text-align: center;
      position: relative;
      z-index: 1001;
      font-family: 'Almarai', sans-serif;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      border-bottom: 3px solid var(--accent-color);
      animation: slideIn 1s ease-out;
    }

    .top-news-bar marquee {
      font-size: 1.2em;
      color: var(--accent-color);
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .top-news-bar marquee i { color: var(--secondary-color); font-size: 1.5em; }

    @keyframes slideIn { 0% { transform: translateY(-100%); } 100% { transform: translateY(0); } }

    /* شريط التحميل */
    .download-bar {
      width: 100%;
      background: linear-gradient(90deg, var(--secondary-color), #16a085);
      padding: 20px;
      text-align: center;
      position: relative;
      z-index: 1000;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      border-bottom: 3px solid var(--accent-color);
    }

    .download-bar a {
      color: white;
      text-decoration: none;
      font-size: 1.4em;
      display: inline-flex;
      align-items: center;
      gap: 15px;
      padding: 15px 30px;
      border-radius: 50px;
      background: rgba(255,255,255,0.15);
      transition: all 0.3s;
    }

    /* شريط التنبيهات */
    .alert-bar {
      width: 100%;
      background: linear-gradient(90deg, #e74c3c, #c0392b);
      color: white;
      padding: 15px;
      text-align: center;
      position: relative;
      z-index: 999;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      font-family: 'Almarai', sans-serif;
      animation: alertPulse 2s infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
    }

    @keyframes alertPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .alert-bar a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .alert-bar a i { font-size: 1.2em; }

    .alert-bar .close-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 5px 10px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s;
    }

    .alert-bar .close-btn:hover { background: rgba(255,255,255,0.4); }

    .alert-bar .register-btn {
      background: var(--accent-color);
      color: var(--primary-color);
      padding: 8px 20px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s;
    }

    .alert-bar .register-btn:hover {
      background: white;
      color: var(--primary-color);
      transform: scale(1.05);
    }

    /* تحسين الهيدر */
    .header-section {
      text-align: center;
      padding: 50px 20px 50px; /* تم تقليل المسافة قبل العنوان */
      background: rgba(0,0,0,0.7);
      margin-top: 0;
    }

    .header-section h1 {
      font-size: 4em;
      font-weight: 900;
      background: linear-gradient(to right, #FFD700, #FF8C00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      letter-spacing: 4px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    }

    .header-section p {
      font-size: 1.6em;
      color: white;
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* تمت إزالة قاعدة الـ ::before الخاصة بشرح الهيدر لتفادي التكرار */

    /* الشرائح العلوية */
    .slideshow-container {
      width: 100%;
      height: 500px;
      position: relative;
      overflow: hidden;
      margin: 50px 0;
      perspective: 1000px;
    }

    .slide {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px;
      opacity: 0;
      transform-style: preserve-3d;
      animation: slideShow 42s infinite;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      backface-visibility: hidden;
      transform: translateZ(0);
      animation-timing-function: linear;
    }

    .slide:nth-child(1) { animation-delay: 0s; }
    .slide:nth-child(2) { animation-delay: 7s; }
    .slide:nth-child(3) { animation-delay: 14s; }
    .slide:nth-child(4) { animation-delay: 21s; }
    .slide:nth-child(5) { animation-delay: 28s; }
    .slide:nth-child(6) { animation-delay: 35s; }

    @keyframes slideShow {
      0% { opacity: 0; transform: translateX(100%) rotateY(30deg); }
      3%, 16% { opacity: 1; transform: translateX(0) rotateY(0); }
      19%, 100% { opacity: 0; transform: translateX(-100%) rotateY(-30deg); }
    }

    .slide h2 {
      font-size: 3em;
      color: var(--accent-color);
      text-shadow: 0 0 20px rgba(255,215,0,0.5);
      margin-bottom: 30px;
      position: relative;
    }

    .slide h2::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: var(--secondary-color);
    }

    .slide p {
      font-size: 1.8em;
      color: white;
      max-width: 1000px;
      line-height: 1.6;
      text-align: center;
      padding: 0 20px;
    }

    /* أقسام الحاسبات الأساسية */
    .calculators-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 40px;
      padding: 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .calculator-card {
      background: rgba(255,255,255,0.95);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      transition: all 0.4s;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
    }

    .calculator-card::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--secondary-color);
      transform: scaleX(0);
      transition: transform 0.3s;
    }

    .calculator-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
    }

    .calculator-card:hover::before { transform: scaleX(1); }

    .calculator-icon {
      font-size: 4em;
      color: var(--primary-color);
      margin: 20px 0;
      transition: all 0.3s;
    }

    .calculator-card:hover .calculator-icon {
      transform: rotate(15deg) scale(1.2);
      color: var(--secondary-color);
    }

    .calculator-btn {
      display: inline-block;
      padding: 15px 40px;
      background: linear-gradient(45deg, var(--primary-color), #A0522D);
      color: white;
      border-radius: 30px;
      text-decoration: none;
      margin-top: 20px;
      transition: all 0.3s;
      border: 2px solid transparent;
    }

    .calculator-btn:hover {
      background: white;
      color: var(--primary-color);
      border-color: var(--primary-color);
      transform: scale(1.05);
    }

    .calculator-card h3 {
      font-size: 1.8em;
      color: var(--primary-color);
      margin-bottom: 15px;
      font-family: 'Almarai', sans-serif;
    }

    .calculator-card p {
      font-size: 1.1em;
      color: var(--text-color);
      line-height: 1.6;
      margin-bottom: 20px;
    }

    /* قسم الحاسبات الهندسية */
    .engineering-calculators-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
    }

    .engineering-calculators-section h2 {
      text-align: center;
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    /* قسم التصميم والتخطيط الذكي للمنشآت */
    .smart-design-section {
      background: rgba(0,0,0,0.8);
      padding: 60px 20px;
      margin-top: 100px;
      text-align: center;
    }

    .smart-design-section h2 {
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 20px;
    }

    .smart-design-section h2 i {
      margin-left: 10px;
      color: var(--secondary-color);
      transition: transform 0.3s;
    }

    .smart-design-section h2:hover i { transform: scale(1.2); }

    .smart-design-section p {
      font-size: 1.2em;
      color: white;
      max-width: 800px;
      margin: 0 auto 20px;
      line-height: 1.6;
    }

    .smart-design-section .design-btn {
      display: inline-block;
      padding: 15px 30px;
      background: var(--secondary-color);
      color: white;
      border-radius: 30px;
      text-decoration: none;
      font-size: 1.2em;
      transition: all 0.3s;
    }

    .smart-design-section .design-btn:hover {
      background: #16a085;
      transform: scale(1.05);
    }

    /* قسم "منصة المقاول اليمني" */
    .platform-section {
      background: rgba(0,0,0,0.8);
      padding: 60px 20px;
      margin-top: 100px;
      text-align: center;
    }

    .platform-section h2 {
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 20px;
    }

    .platform-section p {
      font-size: 1.2em;
      color: white;
      max-width: 800px;
      margin: 0 auto 20px;
      line-height: 1.6;
    }

    .platform-section .platform-btn {
      display: inline-block;
      padding: 15px 30px;
      background: var(--secondary-color);
      color: white;
      border-radius: 30px;
      text-decoration: none;
      font-size: 1.2em;
      transition: all 0.3s;
    }

    .platform-section .platform-btn:hover {
      background: #16a085;
      transform: scale(1.05);
    }

    /* قسم الأسئلة الشائعة */
    .faq-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
    }

    .faq-section h2 {
      text-align: center;
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    .faq-item {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      margin: 10px 0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .faq-item:hover { background: rgba(255,255,255,0.2); }

    .faq-item h3 {
      font-size: 1.5em;
      color: var(--accent-color);
    }

    .faq-item p {
      font-size: 1.2em;
      color: white;
      margin-top: 10px;
      display: none;
    }

    /* قسم الشهادات والتقييمات */
    .testimonials-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
    }

    .testimonials-section h2 {
      text-align: center;
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .testimonial-card {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      transition: all 0.3s;
    }

    .testimonial-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .testimonial-card h3 {
      font-size: 1.5em;
      color: var(--accent-color);
      margin-bottom: 10px;
    }

    .testimonial-card p {
      font-size: 1.1em;
      color: white;
      line-height: 1.6;
    }

    /* كتلة إحصائيات التقييم التي تتزايد بشكل مستمر */
    .stats-block {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 30px;
      flex-wrap: wrap;
    }

    .stat {
      background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
      padding: 20px 30px;
      border-radius: 15px;
      font-size: 1.5em;
      color: white;
      font-weight: bold;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      animation: pulseStat 2.5s infinite;
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .stat i { font-size: 1.8em; }

    .stat:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 25px rgba(0,0,0,0.3);
    }

    @keyframes pulseStat {
      0% { transform: scale(1); }
      50% { transform: scale(1.08); }
      100% { transform: scale(1); }
    }

    /* قسم الفيديو التوضيحي */
    .video-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
      text-align: center;
    }

    .video-section h2 {
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    .video-container {
      max-width: 800px;
      margin: 0 auto;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .video-container iframe {
      width: 100%;
      height: 450px;
      border: none;
    }

    /* قسم دليل الأسعار */
    .price-guide-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
    }

    .price-guide-section h2 {
      text-align: center;
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    .price-guide-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .price-guide-card {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      transition: all 0.3s;
    }

    .price-guide-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .price-guide-card h3 {
      font-size: 1.5em;
      color: var(--accent-color);
      margin-bottom: 10px;
    }

    .price-guide-card p {
      font-size: 1.1em;
      color: white;
      line-height: 1.6;
    }

    .price-guide-card a {
      display: inline-block;
      padding: 10px 20px;
      background: var(--secondary-color);
      color: white;
      border-radius: 25px;
      text-decoration: none;
      margin-top: 15px;
      transition: all 0.3s;
    }

    .price-guide-card a:hover {
      background: #16a085;
      transform: scale(1.05);
    }

    /* قسم التواصل المباشر (قبل الفوتر مباشرة) */
    .contact-form-section {
      background: rgba(0,0,0,0.7);
      padding: 60px 20px;
      margin-top: 100px;
    }

    .contact-form-section h2 {
      text-align: center;
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 40px;
    }

    .contact-form {
      max-width: 600px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .contact-form input, .contact-form textarea {
      padding: 15px;
      border-radius: 10px;
      border: 2px solid var(--accent-color);
      background: rgba(255,255,255,0.1);
      color: white;
      font-size: 1.1em;
    }

    .contact-form input::placeholder, .contact-form textarea::placeholder {
      color: #ccc;
    }

    .contact-form button {
      padding: 15px;
      border-radius: 10px;
      background: var(--secondary-color);
      color: white;
      font-size: 1.2em;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
    }

    .contact-form button:hover { background: #16a085; }

    /* قسم الاشتراك بالنشرة البريدية */
    .newsletter-section {
      background: rgba(0,0,0,0.7);
      padding: 40px 20px;
      text-align: center;
      margin-top: 100px;
    }

    .newsletter-section h2 {
      font-size: 2em;
      color: var(--accent-color);
      margin-bottom: 20px;
    }

    .newsletter-form {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .newsletter-form input[type="email"] {
      padding: 10px;
      border-radius: 5px;
      border: 1px solid var(--accent-color);
      font-size: 1em;
      width: 300px;
    }

    .newsletter-form button {
      padding: 10px 20px;
      border: none;
      background: var(--secondary-color);
      color: white;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 1em;
    }

    .newsletter-form button:hover { background: #16a085; }

    /* شريط التواصل السفلي (الفوتر) */
    .contact-bar {
      width: 100%;
      background: rgba(0,0,0,0.9);
      color: white;
      padding: 40px;
      text-align: center;
      margin-top: 100px;
      position: relative;
    }

    .contact-bar::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    }

    .contact-links {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .contact-links a {
      color: var(--accent-color);
      text-decoration: none;
      font-size: 1.2em;
      padding: 10px 20px;
      border-radius: 30px;
      border: 2px solid var(--accent-color);
      transition: all 0.3s;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .social-links a {
      color: var(--accent-color);
      font-size: 1.5em;
      transition: all 0.3s;
    }

    .social-links a:hover { color: var(--secondary-color); }

    @media (max-width: 768px) {
      .slide h2 { font-size: 2em; }
      .slide p { font-size: 1.3em; }
      .calculators-section { grid-template-columns: 1fr; padding: 20px; }
      .calculator-card { margin-bottom: 20px; }
      .contact-links { gap: 20px; }
    }

    /* تأثيرات إضافية للأشكال العائمة */
    .floating-shape {
      position: fixed;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      animation: float 15s infinite;
      pointer-events: none;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(100px, 100px) rotate(90deg); }
      50% { transform: translate(-50px, 200px) rotate(180deg); }
      75% { transform: translate(150px, -100px) rotate(270deg); }
    }

    .shape1 { width: 200px; height: 200px; top: 20%; left: 10%; }
    .shape2 { width: 150px; height: 150px; top: 60%; right: 15%; animation-delay: -5s; }

    /* شريط الأخبار السفلي */
    .news-bar {
      width: 100%;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px;
      text-align: center;
      position: relative;
      z-index: 998;
      font-family: 'Almarai', sans-serif;
      animation: slideIn 1s ease-out;
    }

    .news-bar marquee {
      font-size: 1.2em;
      color: var(--accent-color);
    }

    /* زر العودة للأعلى مع لون بني وتفاعل */
    #backToTop {
      position: fixed;
      bottom: 40px;
      right: 20px;
      background: #8B4513;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      font-size: 1.5em;
      cursor: pointer;
      display: none;
      z-index: 2000;
      transition: background 0.3s, opacity 0.3s;
    }

    #backToTop:hover { background: #5D3411; }

    /* تحسين أيقونة الدردشة الحية */
    #chatToggle {
      position: fixed;
      bottom: 120px;
      right: 20px;
      background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
      color: white;
      border: none;
      padding: 12px;
      border-radius: 50%;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 2100;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: transform 0.3s, background 0.3s;
      animation: chatPulse 3s infinite;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #chatToggle:hover { 
      background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
      transform: scale(1.15);
    }

    @keyframes chatPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    #chatToggle .chat-icon {
      font-size: 1.5em;
    }

    #chatToggle .chat-text {
      font-size: 0.7em;
      margin-top: 2px;
    }

    /* زر إغلاق خارجي لأيقونة الدردشة */
    #chatToggle .close-icon {
      position: absolute;
      top: 2px;
      right: 2px;
      font-size: 0.9em;
      background: #fff;
      color: #000;
      border-radius: 50%;
      padding: 2px 5px;
      cursor: pointer;
    }

    /* زر إظهار أيقونة الدردشة عند إخفائها */
    #chatShowToggle {
      display: none;
      position: fixed;
      bottom: 120px;
      left: 20px;
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      z-index: 2100;
      cursor: pointer;
      transition: background 0.3s;
    }

    #chatShowToggle:hover { background: #16a085; }

    /* تحسين قسم لوحة التحكم التحليلية */
    .analytics-section {
      background: linear-gradient(135deg, rgba(0,0,0,0.85), rgba(0,0,0,0.95));
      padding: 80px 20px;
    }

    .analytics-section h2 {
      text-align: center;
      font-size: 3em;
      letter-spacing: 2px;
      color: var(--accent-color);
      margin-bottom: 10px;
      position: relative;
      display: inline-block;
      padding-bottom: 10px;
    }

    .analytics-section h2::after {
      content: '';
      position: absolute;
      left: 50%;
      bottom: 0;
      width: 50%;
      height: 3px;
      background: var(--secondary-color);
      transform: translateX(-50%);
      border-radius: 5px;
      margin-top: 10px;
    }

    .analytics-desc {
      text-align: center;
      font-size: 1.3em;
      color: #fff;
      margin-bottom: 40px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .analytics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }

    .analytics-grid .chart-container,
    .analytics-grid .trend-chart-container,
    .analytics-grid .pie-chart-container,
    .analytics-grid .doughnut-chart-container {
      background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      padding: 25px;
      border-radius: 15px;
      position: relative;
      transition: transform 0.4s, box-shadow 0.4s;
      backface-visibility: hidden;
      transform: translateZ(0);
    }

    .analytics-grid .chart-container:hover,
    .analytics-grid .trend-chart-container:hover,
    .analytics-grid .pie-chart-container:hover,
    .analytics-grid .doughnut-chart-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.5);
    }

    .chart-caption {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.1em;
      color: #fff;
      background: rgba(0,0,0,0.6);
      padding: 5px 10px;
      border-radius: 5px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .analytics-grid .chart-container:hover .chart-caption,
    .analytics-grid .trend-chart-container:hover .chart-caption,
    .analytics-grid .pie-chart-container:hover .chart-caption,
    .analytics-grid .doughnut-chart-container:hover .chart-caption {
      opacity: 1;
    }

    /* قواعد استجابة إضافية للهواتف المحمولة */
    @media (max-width: 600px) {
      body { font-size: 14px; }
      .main-nav ul li a { font-size: 0.9em; }
      .header-section h1 { font-size: 2.5em; }
      .header-section p { font-size: 1.2em; }
      #chatToggle { font-size: 1.2em; padding: 8px; }
      #chatToggle .chat-text { display: none; }
      .analytics-section h2 { font-size: 2.5em; }
      .analytics-desc { font-size: 1em; }
      .chart-caption { font-size: 0.9em; }
    }
  </style>
</head>
<body>
  <!-- شاشة التحميل -->
  <div id="loader" class="loader"></div>

  <!-- زر تغيير النظام (الوضع الفاتح/الداكن) -->
  <button id="modeToggle">الوضع الداكن</button>

  <!-- شريط التنقل الرئيسي -->
  <nav class="main-nav" data-aos="fade-down">
    <ul>
      <li><a href="#header-section">الرئيسية</a></li>
      <li><a href="#calculators-section">الحاسبات</a></li>
      <li><a href="#engineering-calculators-section">الحاسبات الهندسية</a></li>
      <li><a href="#smart-design-section">التصميم الذكي <i class="fas fa-drafting-compass"></i></a></li>
      <li><a href="#faq-section">الأسئلة الشائعة</a></li>
      <li><a href="#price-guide-section">دليل الأسعار</a></li>
      <li><a href="#contact-form-section">تواصل معنا</a></li>
      <li><a href="#newsletter-section">الاشتراك</a></li>
    </ul>
    <button id="navToggle" aria-label="Toggle Navigation"><i class="fas fa-bars"></i></button>
  </nav>

  <!-- شريط الأخبار العلوي -->
  <div class="top-news-bar" data-aos="fade-down">
    <marquee>
      <i class="fas fa-bullhorn"></i>
      🚀 مرحبًا بكم في حاسبة المقاول الذكية! | 🛠️ تعرّف على مميزات الحاسبة | 📞 للاستفسارات: 01-450553 | 📧 info@guyc-ye.com
    </marquee>
  </div>

  <!-- شريط التحميل -->
  <div class="download-bar" data-aos="fade-down">
    <a href="https://median.co/share/dqzwmp#apk">
      <i class="fas fa-download fa-bounce"></i>
      حمّل التطبيق الآن - استمتع بتجربة فريدة!
    </a>
  </div>

  <!-- شريط التنبيهات -->
  <div class="alert-bar" data-aos="fade-down">
    <a href="https://guyc-ye.com/membership/">
      <i class="fas fa-gift"></i>
      عرض خاص: خصم 20% على رسوم التسجيل لعضوية الاتحاد العام للمقاولين اليمنيين
    </a>
    <a href="https://guyc-ye.com/membership/" class="register-btn">سجل الآن</a>
    <button class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
  </div>

  <!-- الهيدر -->
  <div id="header-section" class="header-section" data-aos="fade-up">
    <h1>حاسبة المقاول</h1>
    <p>
      مرحباً بكم في حاسبة المقاول – النظام الذكي الشامل لتقدير تكاليف البناء وتحليل الجدوى الاقتصادية للمشاريع الإنشائية.<br>
      نقدم مجموعة متكاملة من الحاسبات المتخصصة: حاسبة البناء، حاسبة الطرق، حاسبة التمويل والجدوى، وآخرون؛ لتلبية احتياجات المقاولين والمستثمرين وتقديم حلول دقيقة وسهلة الاستخدام لتخطيط وتنفيذ المشاريع بكفاءة عالية وتوفير التكاليف.
    </p>
  </div>

  <!-- الشرائح العلوية -->
  <div class="slideshow-container" data-aos="zoom-in">
    <div class="slide">
      <h2>🏗️ مميزات الحاسبة</h2>
      <p>• دقة حسابية تصل إلى 90%</p>
      <p>• تحديثات الأسعار اليومية</p>
      <p>• واجهة مستخدم سهلة التعلم</p>
    </div>
    <div class="slide">
      <h2>📊 طريقة الاستخدام</h2>
      <p>1. اختر نوع الحاسبة</p>
      <p>2. أدخل البيانات المطلوبة</p>
      <p>3. احصل على النتائج فورًا</p>
    </div>
    <div class="slide">
      <h2>💎 المكونات الرئيسية</h2>
      <p>• محرك حسابي ذكي</p>
      <p>• قاعدة بيانات شاملة</p>
      <p>• نظام تقارير متكامل</p>
    </div>
    <div class="slide">
      <h2>🎯 النتائج المتوقعة</h2>
      <p>• توفير 90% من الوقت</p>
      <p>• خفض التكاليف بنسبة 25%</p>
      <p>• دقة أعلى في التخطيط</p>
    </div>
    <div class="slide">
      <h2>🌟 فوائد الاستخدام</h2>
      <p>• تخطيط دقيق للمشاريع</p>
      <p>• تجنب الأخطاء الحسابية</p>
      <p>• توفير الموارد المالية</p>
    </div>
    <div class="slide">
      <h2>📞 تواصل معنا</h2>
      <p>هاتف: 01-450553</p>
      <p>البريد الإلكتروني: info@guyc-ye.com</p>
    </div>
  </div>

  <!-- قسم الحاسبات الأساسية -->
  <div id="calculators-section" class="calculators-section" data-aos="fade-up">
    <div class="calculator-card">
      <i class="fas fa-building calculator-icon"></i>
      <h3>حاسبة البناء المتكاملة</h3>
      <p>أداة ذكية لحساب تكاليف البناء بدقة عالية، تشمل جميع مراحل المشروع من التخطيط إلى التنفيذ.</p>
      <a href="https://kimo23576.github.io/cal-building/" class="calculator-btn">ابدأ الحساب الآن</a>
    </div>
    <div class="calculator-card">
      <i class="fas fa-road calculator-icon"></i>
      <h3>حاسبة الطرقات الذكية</h3>
      <p>نظام متقدم لحساب مشاريع الطرق بدقة 90%، يشمل دراسة الطبقات التحتية وتكاليف الإنشاء.</p>
      <a href="https://kimo23576.github.io/cal-road/" class="calculator-btn">ابدأ الحساب الآن</a>
    </div>
    <div class="calculator-card">
      <i class="fas fa-chart-line calculator-icon"></i>
      <h3>حاسبة التمويل والجدوى الاقتصادية</h3>
      <p>أداة متقدمة لتحليل الجدوى الاقتصادية وتقدير التمويل اللازم للمشاريع الإنشائية.</p>
      <a href="https://kimo23576.github.io/Cal1/" class="calculator-btn">ابدأ الحساب الآن</a>
    </div>
  </div>

  <!-- قسم الحاسبات الهندسية -->
  <div id="engineering-calculators-section" class="engineering-calculators-section" data-aos="fade-up">
    <h2>الآلات الحاسبة الهندسية</h2>
    <div class="calculators-section">
      <div class="calculator-card">
        <i class="fas fa-calculator calculator-icon"></i>
        <h3>الآلة الحاسبة الهندسية المتكاملة</h3>
        <p>أداة متقدمة لحساب الأبعاد والقوى وتصاميم المنشآت بدقة عالية.</p>
        <a href="https://kimo23576.github.io/Cal2/" class="calculator-btn">ابدأ الحساب الآن</a>
      </div>
      <div class="calculator-card">
        <i class="fas fa-cube calculator-icon"></i>
        <h3>حاسبة تصميم الخرسانة</h3>
        <p>تحليل تفصيلي لتصميم الخرسانة المسلحة وفق المواصفات القياسية.</p>
        <a href="https://kimo23576.github.io/Cal3/" class="calculator-btn">ابدأ الحساب الآن</a>
      </div>
      <div class="calculator-card">
        <i class="fas fa-balance-scale calculator-icon"></i>
        <h3>حاسبة توزيع الأحمال</h3>
        <p>أداة متقدمة لتحليل توزيع الأحمال على المنشآت لضمان الاستقرار والأمان.</p>
        <a href="https://kimo23576.github.io/Cal4/" class="calculator-btn">ابدأ الحساب الآن</a>
      </div>
      <div class="calculator-card">
        <i class="fas fa-chart-pie calculator-icon"></i>
        <h3>حاسبة الجهد الهيكلي</h3>
        <p>تقدير وتحليل الجهد الهيكلي للمباني باستخدام أحدث المعايير الهندسية.</p>
        <a href="https://kimo23576.github.io/Cal5/" class="calculator-btn">ابدأ الحساب الآن</a>
      </div>
    </div>
  </div>

  <!-- قسم التصميم والتخطيط الذكي للمنشآت -->
  <div id="smart-design-section" class="smart-design-section" data-aos="fade-up">
    <h2>التصميم والتخطيط الذكي للمنشآت <i class="fas fa-drafting-compass"></i></h2>
    <p>نوفر لك خدمة تنفيذ مخطط بناء أولي بشكل ذاتي وآلي باستخدام أحدث التقنيات والمعايير الدولية، لتبدأ مشروعك بثقة وتخطيط دقيق.</p>
    <a href="https://kimo23576.github.io/Cal6/" class="design-btn">ابدأ الآن</a>
  </div>

  <!-- قسم "منصة المقاول اليمني" -->
  <div class="platform-section" data-aos="fade-up">
    <h2>منصة المقاول اليمني <i class="fas fa-home"></i></h2>
    <p>كل ما تحتاجة في قطاع المقاولات اليمني.</p>
    <a href="https://guyc-yemen.com/" class="platform-btn">زيارة المنصة</a>
  </div>

  <!-- قسم الأسئلة الشائعة -->
  <div id="faq-section" class="faq-section" data-aos="fade-up">
    <h2>الأسئلة الشائعة</h2>
    <div class="faq-item">
      <h3>كيف يمكنني استخدام الحاسبة؟</h3>
      <p>اختر نوع الحاسبة المناسبة، أدخل البيانات المطلوبة، ثم اضغط على "ابدأ الحساب".</p>
    </div>
    <div class="faq-item">
      <h3>هل الحاسبة مجانية؟</h3>
      <p>نعم، الحاسبة متاحة للاستخدام المجاني لجميع المستخدمين.</p>
    </div>
    <div class="faq-item">
      <h3>هل يمكنني الحصول على تقرير مفصل؟</h3>
      <p>نعم، يمكنك تحميل تقرير مفصل بعد الانتهاء من الحسابات.</p>
    </div>
    <div class="faq-item">
      <h3>ما هي دقة الحاسبة؟</h3>
      <p>دقة الحاسبة تصل إلى 90% بناءً على البيانات المدخلة.</p>
    </div>
    <div class="faq-item">
      <h3>هل يمكنني استخدام الحاسبة على الهاتف؟</h3>
      <p>نعم، الحاسبة متوافقة مع جميع الأجهزة بما في ذلك الهواتف الذكية.</p>
    </div>
    <div class="faq-item">
      <h3>كيف يتم تحديث أسعار مواد البناء؟</h3>
      <p>تتم عملية التحديث تلقائيًا من خلال قاعدة بيانات محدثة يوميًا لضمان دقة الأسعار.</p>
    </div>
    <div class="faq-item">
      <h3>ما هي الخدمات الإضافية المتاحة؟</h3>
      <p>نقدم خدمات التصميم والتخطيط الذكي، وتحليل الجهد الهيكلي، والتقارير التفصيلية.</p>
    </div>
  </div>

  <!-- قسم الشهادات والتقييمات -->
  <div class="testimonials-section" data-aos="fade-up">
    <h2>ما يقول عملاؤنا</h2>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <h3>محمد أحمد</h3>
        <p>"الحاسبة ساعدتني في توفير الوقت والمال، أنصح الجميع باستخدامها."</p>
        <div class="stars">★★★★★</div>
      </div>
      <div class="testimonial-card">
        <h3>فاطمة علي</h3>
        <p>"واجهة المستخدم رائعة والدقة في الحسابات مذهلة."</p>
        <div class="stars">★★★★★</div>
      </div>
      <div class="testimonial-card">
        <h3>علي حسن</h3>
        <p>"أداة ممتازة لتخطيط المشاريع الإنشائية، الخدمة احترافية ومميزة."</p>
        <div class="stars">★★★★★</div>
      </div>
      <div class="testimonial-card">
        <h3>سارة محمود</h3>
        <p>"منصة شاملة توفر كل ما يلزم المقاول، أنصح بها بشدة."</p>
        <div class="stars">★★★★★</div>
      </div>
    </div>
    <!-- كتلة إحصائيات التقييم التي تتزايد بشكل مستمر -->
    <div class="stats-block" data-aos="fade-up">
      <div class="stat"><i class="fas fa-users"></i><span> +8000 مستفيد</span></div>
      <div class="stat"><i class="fas fa-eye"></i><span> +35000 زائر</span></div>
      <div class="stat"><i class="fas fa-user-tie"></i><span> +3000 عميل</span></div>
      <div class="stat"><i class="fas fa-briefcase"></i><span> +1200 مشروع</span></div>
    </div>
  </div>

  <!-- قسم الفيديو التوضيحي -->
  <div class="video-section" data-aos="fade-up">
    <h2>فيديو تعريفي عن الإتحاد العام للمقاولين اليمنيين</h2>
    <div class="video-container">
      <iframe src="https://www.youtube.com/embed/YrebsJj1S48" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>

  <!-- قسم دليل الأسعار -->
  <div id="price-guide-section" class="price-guide-section" data-aos="fade-up">
    <h2>دليل أسعار مواد البناء</h2>
    <div class="price-guide-grid">
      <div class="price-guide-card">
        <h3>مواد البناء الأساسية</h3>
        <p>تعرف على أحدث أسعار مواد البناء الأساسية (الحديد - الخشب - الخرسانة - الأسمنت وغيرها) في السوق اليمني.</p>
        <a href="https://guyc-yemen.com/price-guide/">عرض الأسعار</a>
      </div>
      <div class="price-guide-card">
        <h3>مواد التشطيبات</h3>
        <p>اكتشف أحدث أسعار مواد التشطيبات (الدهانات - الأبواب - النوافذ - البلاط) بدقة عالية.</p>
        <a href="https://guyc-yemen.com/price-guide/">عرض الأسعار</a>
      </div>
      <div class="price-guide-card">
        <h3>الأيدي العاملة</h3>
        <p>تعرف على أحدث أسعار الأيدي العاملة في السوق اليمني لتقدير تكلفة العمل.</p>
        <a href="https://guyc-yemen.com/price-guide/">عرض الأسعار</a>
      </div>
      <div class="price-guide-card">
        <h3>المواد التكميلية والديكور</h3>
        <p>تصفح أحدث أسعار المواد التكميلية والديكورية للمشاريع الإنشائية.</p>
        <a href="https://guyc-yemen.com/price-guide/">عرض الأسعار</a>
      </div>
    </div>
  </div>

  <!-- قسم لوحة التحكم التحليلية المحسنة -->
  <div class="analytics-section" data-aos="fade-up">
    <h2>لوحة التحكم التحليلية</h2>
    <p class="analytics-desc">استعرض الإحصائيات والبيانات بشكل تفاعلي وديناميكي لتحليل أداء المشاريع وتكاليفها بدقة عالية.</p>
    <div class="analytics-grid">
      <div class="chart-container">
        <canvas id="costChart"></canvas>
        <div class="chart-caption">تكاليف المشروع</div>
      </div>
      <div class="trend-chart-container">
        <canvas id="trendChart"></canvas>
        <div class="chart-caption">اتجاه التكلفة</div>
      </div>
      <div class="pie-chart-container">
        <canvas id="pieChart"></canvas>
        <div class="chart-caption">نسبة المواد</div>
      </div>
      <div class="doughnut-chart-container">
        <canvas id="doughnutChart"></canvas>
        <div class="chart-caption">توزيع الميزانية</div>
      </div>
    </div>
  </div>

  <!-- قسم التواصل المباشر (قبل الفوتر مباشرة) -->
  <div id="contact-form-section" class="contact-form-section" data-aos="fade-up">
    <h2>تواصل معنا مباشرة</h2>
    <form class="contact-form">
      <input type="text" placeholder="اسمك" required>
      <input type="email" placeholder="بريدك الإلكتروني" required>
      <textarea placeholder="رسالتك" rows="5" required></textarea>
      <button type="submit">إرسال</button>
    </form>
  </div>

  <!-- قسم الاشتراك بالنشرة البريدية -->
  <div id="newsletter-section" class="newsletter-section" data-aos="fade-up">
    <h2>اشترك في النشرة البريدية</h2>
    <p>احصل على آخر التحديثات والأخبار مباشرة إلى بريدك الإلكتروني.</p>
    <form class="newsletter-form">
      <input type="email" placeholder="بريدك الإلكتروني" required>
      <button type="submit">اشترك الآن</button>
    </form>
  </div>

  <!-- شريط التواصل السفلي (الفوتر) -->
  <div class="contact-bar" data-aos="fade-up">
    <h3 style="font-size: 1.8em; margin-bottom: 30px;">تواصل معنا بسهولة</h3>
    <div class="contact-links">
      <a href="https://guyc-ye.com/">
        <i class="fas fa-globe"></i>
        الموقع الرسمي
      </a>
      <a href="mailto:info@guyc-ye.com">
        <i class="fas fa-envelope"></i>
        البريد الإلكتروني
      </a>
      <a href="tel:01450553">
        <i class="fas fa-phone"></i>
        01-450553
      </a>
    </div>
    <div class="social-links">
      <a href="https://m.facebook.com/guyc.ye/" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="https://x.com/guycyemen" target="_blank"><i class="fab fa-twitter"></i></a>
      <a href="https://m.youtube.com/@guyc-ye" target="_blank"><i class="fab fa-youtube"></i></a>
      <a href="https://wa.me/message/VOVMQQVM52O7I1" target="_blank"><i class="fab fa-whatsapp"></i></a>
    </div>
    <p style="margin-top: 30px; color: #888;">
      © 2024 جميع الحقوق محفوظة لمنصة الاتحاد العام للمقاولين اليمنيين
    </p>
  </div>

  <!-- زر العودة للأعلى مع لون بني وتفاعل -->
  <button id="backToTop" title="العودة للأعلى" aria-label="العودة للأعلى">↑</button>

  <!-- أيقونة الدردشة العائمة المحسنة مع نص "الدردشة" وزر إغلاق خارجي -->
  <button id="chatToggle" aria-label="فتح الدردشة">
    <i class="fas fa-comments chat-icon"></i>
    <span class="chat-text">الدردشة</span>
    <span class="close-icon" id="chatCloseToggle">×</span>
  </button>

  <!-- زر لإظهار أيقونة الدردشة عند إخفائها -->
  <button id="chatShowToggle">الدردشة</button>

  <!-- نافذة الدردشة الحية المحسنة -->
  <div id="chatWidget" role="dialog" aria-modal="true" aria-labelledby="chatHeader" style="display:none; flex-direction: column; position: fixed; bottom: 180px; right: 20px; width: 300px; background: rgba(0,0,0,0.9); border-radius: 10px; z-index:2100; box-shadow: 0 8px 25px rgba(0,0,0,0.5);">
    <div id="chatHeader" style="background: var(--secondary-color); padding: 10px; border-top-left-radius: 10px; border-top-right-radius: 10px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
      الدردشة الحية
      <span id="chatClose" style="cursor:pointer; font-size:1.2em;" aria-label="إغلاق الدردشة">×</span>
    </div>
    <div id="chatBody" style="max-height: 200px; overflow-y: auto; padding: 10px; color: white;">
      <div class="chat-message bot">مرحباً، كيف يمكننا مساعدتك؟</div>
      <div class="chat-message bot">هل لديك أسئلة حول أنواع الحاسبات أو كيفية استخدامها؟</div>
      <div class="chat-message bot">يمكنك الاستفسار عن خدماتنا أو التواصل معنا عبر الهاتف أو البريد الإلكتروني.</div>
    </div>
    <div id="chatInputContainer" style="display: flex; border-top: 1px solid #444;">
      <input type="text" id="chatInput" placeholder="اكتب رسالتك..." aria-label="اكتب رسالتك" style="flex: 1; padding: 10px; border: none; outline: none; background: #222; color: white;">
      <button id="chatSend" style="background: var(--secondary-color); border: none; color: white; padding: 10px; cursor: pointer; transition: background 0.3s;">إرسال</button>
    </div>
  </div>

  <!-- إشعار ملفات تعريف الارتباط -->
  <div id="cookieConsent" style="position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.8); color: white; padding: 15px; text-align: center; z-index: 2000; display: flex; justify-content: center; align-items: center; gap: 10px;">
    <p style="margin: 0; font-size: 1em;">نستخدم ملفات تعريف الارتباط لتحسين تجربتك. <a href="#" style="color: var(--accent-color); text-decoration: underline;">اعرف المزيد</a></p>
    <button id="cookieAccept" style="background: var(--secondary-color); border: none; padding: 8px 15px; color: white; border-radius: 5px; cursor: pointer; transition: background 0.3s;">موافق</button>
  </div>

  <!-- استدعاء مكتبة AOS -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    // إخفاء شاشة التحميل وتفعيل AOS عند تحميل الصفحة
    window.addEventListener('load', () => {
      document.getElementById('loader').style.display = 'none';
      AOS.init();
    });

    // تفعيل قائمة التنقل على الأجهزة الصغيرة
    document.getElementById('navToggle').addEventListener('click', () => {
      const navUl = document.querySelector('.main-nav ul');
      navUl.style.display = navUl.style.display === 'flex' ? 'none' : 'flex';
    });

    // تفعيل الأسئلة الشائعة
    document.querySelectorAll('.faq-item').forEach(item => {
      item.addEventListener('click', () => {
        const answer = item.querySelector('p');
        answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
      });
    });

    // تفعيل تبديل النظام (فاتح/داكن)
    document.getElementById('modeToggle').addEventListener('click', function() {
      document.body.classList.toggle('light-mode');
      this.textContent = document.body.classList.contains('light-mode') ? 'الوضع الداكن' : 'الوضع الفاتح';
    });

    // إعداد مخطط إحصائي (عمودي) باستخدام Chart.js
    const ctx = document.getElementById('costChart').getContext('2d');
    const costChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['أساس', 'تشطيبات', 'ديكور', 'أيدي عاملة'],
        datasets: [{
          label: 'تكاليف المشروع (بالريال)',
          data: [50000, 30000, 15000, 20000],
          backgroundColor: [
            'rgba(139,69,19,0.7)',
            'rgba(26,188,156,0.7)',
            'rgba(255,215,0,0.7)',
            'rgba(22,160,133,0.7)'
          ],
          borderColor: [
            'rgba(139,69,19,1)',
            'rgba(26,188,156,1)',
            'rgba(255,215,0,1)',
            'rgba(22,160,133,1)'
          ],
          borderWidth: 1
        }]
      },
      options: { responsive: true, scales: { y: { beginAtZero: true } } }
    });

    // إعداد مخطط خطي لتتبع اتجاهات التكلفة
    const ctxLine = document.getElementById('trendChart').getContext('2d');
    const trendChart = new Chart(ctxLine, {
      type: 'line',
      data: {
        labels: ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو'],
        datasets: [{
          label: 'اتجاه التكلفة (بالريال)',
          data: [45000, 47000, 49000, 51000, 53000, 55000],
          fill: false,
          borderColor: 'rgba(26,188,156,1)',
          tension: 0.1
        }]
      },
      options: { responsive: true }
    });

    // إعداد مخطط دائري (Pie Chart)
    const ctxPie = document.getElementById('pieChart').getContext('2d');
    const pieChart = new Chart(ctxPie, {
      type: 'pie',
      data: {
        labels: ['مواد البناء', 'تشطيبات', 'أيدي عاملة', 'ديكور'],
        datasets: [{
          data: [40, 25, 20, 15],
          backgroundColor: [
            'rgba(139,69,19,0.7)',
            'rgba(26,188,156,0.7)',
            'rgba(22,160,133,0.7)',
            'rgba(255,215,0,0.7)'
          ]
        }]
      },
      options: { responsive: true }
    });

    // إعداد مخطط دونات (Doughnut Chart)
    const ctxDoughnut = document.getElementById('doughnutChart').getContext('2d');
    const doughnutChart = new Chart(ctxDoughnut, {
      type: 'doughnut',
      data: {
        labels: ['إنشائية', 'تصميم', 'تشطيبات', 'أخرى'],
        datasets: [{
          data: [35, 30, 20, 15],
          backgroundColor: [
            'rgba(139,69,19,0.7)',
            'rgba(26,188,156,0.7)',
            'rgba(22,160,133,0.7)',
            'rgba(255,215,0,0.7)'
          ]
        }]
      },
      options: { responsive: true }
    });

    // زر العودة للأعلى: إخفاؤه أثناء التمرير وإظهاره عند التوقف
    const backToTop = document.getElementById('backToTop');
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      backToTop.style.opacity = '0';
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        if (window.pageYOffset > 300) {
          backToTop.style.opacity = '1';
          backToTop.style.display = 'block';
        }
      }, 500);
    });
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // تفعيل نافذة الدردشة
    const chatToggle = document.getElementById('chatToggle');
    const chatWidget = document.getElementById('chatWidget');
    const chatClose = document.getElementById('chatClose');
    const chatSend = document.getElementById('chatSend');
    const chatInput = document.getElementById('chatInput');
    const chatBody = document.getElementById('chatBody');
    const chatCloseToggle = document.getElementById('chatCloseToggle');
    const chatShowToggle = document.getElementById('chatShowToggle');

    // عند النقر على أيقونة الدردشة تظهر النافذة
    chatToggle.addEventListener('click', () => {
      chatWidget.style.display = chatWidget.style.display === 'flex' ? 'none' : 'flex';
    });
    // زر إغلاق النافذة داخل الدردشة
    chatClose.addEventListener('click', () => { chatWidget.style.display = 'none'; });
    // زر إغلاق أيقونة الدردشة (إخفاؤها)
    chatCloseToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      chatToggle.style.display = 'none';
      chatWidget.style.display = 'none';
      chatShowToggle.style.display = 'block';
    });
    // زر إظهار أيقونة الدردشة عند إخفائها
    chatShowToggle.addEventListener('click', () => {
      chatToggle.style.display = 'flex';
      chatShowToggle.style.display = 'none';
    });
    chatSend.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', function(e) { if(e.key === 'Enter') { sendMessage(); } });
    function sendMessage() {
      const msg = chatInput.value.trim();
      if(msg !== "") {
        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message user';
        userMsg.textContent = msg;
        chatBody.appendChild(userMsg);
        chatInput.value = "";
        if(msg.includes("حاسبة") || msg.includes("كيفية") || msg.includes("سؤال")) {
          setTimeout(() => {
            const botMsg = document.createElement('div');
            botMsg.className = 'chat-message bot';
            botMsg.textContent = "يمكنك استخدام الحاسبة عن طريق اختيار النوع المناسب وإدخال البيانات المطلوبة. إذا كان لديك سؤال محدد، يرجى طرحه.";
            chatBody.appendChild(botMsg);
            chatBody.scrollTop = chatBody.scrollHeight;
          }, 1000);
        } else {
          setTimeout(() => {
            const botMsg = document.createElement('div');
            botMsg.className = 'chat-message bot';
            botMsg.textContent = "شكرًا لتواصلك، سيتم الرد عليك قريبًا.";
            chatBody.appendChild(botMsg);
            chatBody.scrollTop = chatBody.scrollHeight;
          }, 1000);
        }
      }
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    // دالة زيادة الأرقام في قسم التقييم بشكل مستمر
    function animateStats() {
      const stats = document.querySelectorAll('.stats-block .stat');
      stats.forEach(stat => {
        let text = stat.textContent.trim();
        let parts = text.split(" ");
        let num = parseInt(parts[0].replace('+',''));
        num += Math.floor(Math.random() * 5) + 1;
        stat.textContent = `+${num} ${parts.slice(1).join(" ")}`;
      });
    }
    setInterval(animateStats, 1000);
  </script>

  <!-- قواعد استجابة إضافية للهواتف المحمولة -->
  <style>
    @media (max-width: 600px) {
      body { font-size: 14px; }
      .main-nav ul li a { font-size: 0.9em; }
      .header-section h1 { font-size: 2.5em; }
      .header-section p { font-size: 1.2em; }
      #chatToggle { font-size: 1.2em; padding: 8px; }
      #chatToggle .chat-text { display: none; }
      .analytics-section h2 { font-size: 2.5em; }
      .analytics-desc { font-size: 1em; }
      .chart-caption { font-size: 0.9em; }
    }
  </style>
</body>
</html>
